{
  "hash": "fc01cb743f1a6339f0f624a797f8f04c",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"\"\nsubtitle: \"\"\nauthor: \"\"\nparams:\n  archivo:\n    value: \"/home/rober/Documentos/epi-cchh-reports/data/raw/BD REPORTE EPI PSICOLOGÍA.xlsx\"\n    label: \"Archivo Excel (Resultados Individuales)\"\nformat:\n  html:\n    toc: true\n    number-sections: false\n    df-print: paged\n    theme: styles/report.scss\n    title-block-banner: false\n    code-fold: true\n    code-tools: true\n    smooth-scroll: true\n    include-after-body: _footer.html\nexecute:\n  freeze: auto\n  echo: true\n---\n\n![](assets/img/logo-uah-open.png){.brand-logo}\n\n<p class=\"brand-title\">\n  <span class=\"brand-title-main\">Análisis EPI</span>\n  <span class=\"brand-title-sub\">Resultados Individuales (EPI) — reporte exploratorio</span>\n</p>\n\nRoberto Cantillan Carrasco\n\n::: {.callout-note}\n# **Instrucciones**\nEste informe carga **un único archivo Excel** (ruta en `params$archivo`), lo parsea con un lector robusto y presenta métricas, tablas y visualizaciones **Plotly**.\n:::\n\n\n\n## 1) Cargar y parsear el archivo\n\n\n::: {.cell}\n\n```{.r .cell-code}\narchivo <- params$archivo\ncat(\"WD:\", getwd(), \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nWD: /home/rober/Documentos/epi-cchh-reports \n```\n\n\n:::\n\n```{.r .cell-code}\ncat(\"Archivo:\", archivo, \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nArchivo: /home/rober/Documentos/epi-cchh-reports/data/raw/BD REPORTE EPI PSICOLOGÍA.xlsx \n```\n\n\n:::\n\n```{.r .cell-code}\nstopifnot(file.exists(archivo))\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# ---------------- Parser robusto ----------------\nguess_data_start_base <- function(df0){\n  v <- suppressWarnings(readr::parse_double(df0[[1]]))\n  idx <- which(!is.na(v) & v > 1e6)\n  if (length(idx)) min(idx) else NA_integer_\n}\nguess_header_row_base <- function(df0, data_start){\n  if (is.na(data_start) || data_start <= 1) return(NA_integer_)\n  prev_df <- as.data.frame(df0[seq_len(data_start - 1), , drop = FALSE], stringsAsFactors = FALSE)\n  nonempty <- rowSums(!is.na(prev_df) & prev_df != \"\")\n  idx <- which(nonempty >= 2)\n  if (length(idx)) max(idx) else NA_integer_\n}\nmake_names_from_block_base <- function(df0, header_row, data_start){\n  if (is.na(header_row)) {\n    raw_names <- names(df0)\n  } else {\n    block <- as.data.frame(df0[seq(from = header_row, to = data_start - 1), , drop = FALSE],\n                           stringsAsFactors = FALSE)\n    collapse_col <- function(x){\n      x <- x[!is.na(x) & x != \"\"]\n      if (!length(x)) NA_character_ else paste(x, collapse = \" | \")\n    }\n    raw_names <- vapply(block, collapse_col, character(1))\n    empties <- is.na(raw_names) | raw_names == \"\"\n    if (any(empties)) {\n      idx <- seq_along(raw_names)\n      raw_names[empties] <- paste0(\"col_\", idx[empties])\n    }\n  }\n  janitor::make_clean_names(raw_names)\n}\nfirst_existing_col_base <- function(df, candidates){\n  keep <- candidates[candidates %in% names(df)]\n  if (length(keep)) keep[1] else NA_character_\n}\nstandardize_core_names <- function(dat){\n  nms <- names(dat)\n  pats <- list(\n    rut=\"(^rut(\\\\s|_|$)|^rut_estudiante|^id.*estudiante)\",\n    dv=\"^(dv|digito|dígito)\", primer=\"^primer.*apellido|apellid.*paterno\",\n    segundo=\"^segundo.*apellido|apellid.*materno\", nombres=\"^nombres?$\",\n    estado_hab=\"^estado.*habilitaci[oó]n\",\n    estatus=\"^estatus.*rendici[oó]n|^estado.*rendici[oó]n\",\n    fecha=\"^fecha.*rendici[oó]n\", justif=\"^justificaci[oó]n.*no.*rend\"\n  )\n  rename_map <- list()\n  for (k in names(pats)){\n    hit <- stringr::str_which(nms, stringr::regex(pats[[k]], ignore_case = TRUE))\n    if (length(hit)) {\n      old <- nms[hit[1]]\n      new <- switch(k,\n        rut=\"rut\", dv=\"dv\", primer=\"primer_apellido\", segundo=\"segundo_apellido\",\n        nombres=\"nombres\", estado_hab=\"estado_habilitacion\", estatus=\"estatus_rendicion\",\n        fecha=\"fecha_rendicion\", justif=\"justificacion_no_rendicion\"\n      )\n      rename_map[[new]] <- old\n    }\n  }\n  if (length(rename_map)) dat <- dplyr::rename(dat, !!!rename_map)\n  dat\n}\nfallback_positionals <- function(dat){\n  pos_map <- c(\"rut\",\"dv\",\"primer_apellido\",\"segundo_apellido\",\"nombres\",\n               \"estado_habilitacion\",\"estatus_rendicion\",\"fecha_rendicion\",\"justificacion_no_rendicion\")\n  for (i in seq_along(pos_map)){\n    tgt <- pos_map[i]\n    if (!tgt %in% names(dat) && i <= ncol(dat)) names(dat)[i] <- tgt\n  }\n  dat\n}\nlooks_like_comp_score <- function(x){\n  x2 <- if (is.factor(x)) as.character(x) else x\n  x2 <- x2[!is.na(x2) & x2 != \"\"]\n  if (!length(x2)) return(FALSE)\n  ok <- stringr::str_detect(x2, stringr::regex(\"^(nr|n\\\\s*r|[0-3])$\", ignore_case = TRUE)) |\n        stringr::str_detect(x2, stringr::regex(\"^\\\\d{1,2}$\", ignore_case = TRUE))\n  mean(ok) >= 0.7\n}\nstandardize_competencias <- function(dat){\n  nms <- names(dat)\n  ren <- list(\n    comp_11=\"^(x\\\\s*)?1[\\\\._\\\\- ]?1\\\\b|distingue\\\\s+las\\\\s+ideas\\\\s+centrales\",\n    comp_12=\"^(x\\\\s*)?1[\\\\._\\\\- ]?2\\\\b|explica\\\\s+conceptos\\\\s+te[oó]ricos?\",\n    comp_32a=\"^(x\\\\s*)?3[\\\\._\\\\- ]?2[\\\\._\\\\- ]?a\\\\b\",\n    comp_32b=\"^(x\\\\s*)?3[\\\\._\\\\- ]?2[\\\\._\\\\- ]?b\\\\b\",\n    comp_32c=\"^(x\\\\s*)?3[\\\\._\\\\- ]?2[\\\\._\\\\- ]?c\\\\b\",\n    comp_41=\"^(x\\\\s*)?4[\\\\._\\\\- ]?1\\\\b|reconoce\\\\s+los\\\\s+componentes\",\n    comp_42=\"^(x\\\\s*)?4[\\\\._\\\\- ]?2\\\\b|eval[íi]a\\\\s+la\\\\s+coherencia\",\n    puntaje_total=\"puntaje.*total.*estudiante\",\n    porcentaje_logro=\"porcentaje.*logro|%.*logro\",\n    categoria_global=\"categor[ií]a.*resultado.*global.*estudiante\",\n    incluido_listado=\"incluido.*listado\"\n  )\n  rename_map <- list()\n  for (k in names(ren)){\n    hit <- stringr::str_which(nms, stringr::regex(ren[[k]], ignore_case = TRUE))\n    if (length(hit)) {\n      old <- nms[hit[1]]; rename_map[[k]] <- old\n    }\n  }\n  if (length(rename_map)) dat <- dplyr::rename(dat, !!!rename_map)\n\n  nm <- names(dat)\n  if (!\"comp_32a\" %in% nm){ hit <- which(stringr::str_detect(nm, stringr::regex(\"^x3_2_a\", TRUE))); if (length(hit)) nm[hit[1]] <- \"comp_32a\" }\n  if (!\"comp_32b\" %in% nm){ hit <- which(stringr::str_detect(nm, stringr::regex(\"^x3_2_b\", TRUE))); if (length(hit)) nm[hit[1]] <- \"comp_32b\" }\n  if (!\"comp_32c\" %in% nm){ hit <- which(stringr::str_detect(nm, stringr::regex(\"^x3_2_c\", TRUE))); if (length(hit)) nm[hit[1]] <- \"comp_32c\" }\n  names(dat) <- nm; nm <- names(dat)\n\n  idx_just <- which(nm == \"justificacion_no_rendicion\")\n  idx_32a  <- which(nm == \"comp_32a\")\n  idx_32c  <- which(nm == \"comp_32c\")\n\n  if (length(idx_just) && length(idx_32a)){\n    rng <- seq(from = idx_just + 1, to = idx_32a - 1)\n    rng <- rng[rng >= 1 & rng <= ncol(dat)]\n    if (length(rng)){\n      cand <- nm[rng]; mask <- vapply(dat[cand], looks_like_comp_score, logical(1))\n      cand2 <- cand[mask]\n      if (length(cand2) >= 2){\n        nm[match(tail(cand2, 2), nm)] <- c(\"comp_11\", \"comp_12\")\n      } else if (length(cand) >= 2){\n        nm[match(tail(cand, 2), nm)] <- c(\"comp_11\", \"comp_12\")\n      }\n      names(dat) <- nm; nm <- names(dat)\n    }\n  }\n  if (length(idx_32c)){\n    pos <- idx_32c + 1\n    if (!\"comp_41\" %in% nm && pos <= ncol(dat)) { nm[pos] <- \"comp_41\"; pos <- pos + 1 }\n    if (!\"comp_42\" %in% nm && pos <= ncol(dat)) { nm[pos] <- \"comp_42\"; pos <- pos + 1 }\n    if (!\"puntaje_total\" %in% nm && pos <= ncol(dat)) { nm[pos] <- \"puntaje_total\"; pos <- pos + 1 }\n    if (!\"porcentaje_logro\" %in% nm && pos <= ncol(dat)) { nm[pos] <- \"porcentaje_logro\"; pos <- pos + 1 }\n    if (!\"categoria_global\" %in% nm && pos <= ncol(dat)) { nm[pos] <- \"categoria_global\"; pos <- pos + 1 }\n    names(dat) <- nm\n  }\n  dat\n}\nrepair_person_names <- function(df){\n  required <- c(\"primer_apellido\",\"segundo_apellido\",\"nombres\")\n  if (!all(required %in% names(df))) return(df)\n  split_full <- function(txt){\n    if (is.na(txt) || txt == \"\") return(list(nombres=NA_character_, ap1=NA_character_, ap2=NA_character_))\n    toks <- str_squish(txt) |> str_split(\"\\\\s+\") |> unlist()\n    toks <- toks[toks != \"\" & !is.na(toks)]\n    if (length(toks) < 3) return(list(nombres=NA_character_, ap1=NA_character_, ap2=NA_character_))\n    ap2 <- toks[length(toks)]; ap1 <- toks[length(toks)-1]\n    nom <- if (length(toks) > 2) paste(toks[1:(length(toks)-2)], collapse = \" \") else NA_character_\n    list(nombres=nom, ap1=ap1, ap2=ap2)\n  }\n  need_fix <- vapply(df$primer_apellido, function(x){\n    if (is.na(x) || x == \"\") FALSE else str_count(x, \"\\\\S+\") >= 3\n  }, logical(1))\n  if (any(need_fix)){\n    fixed <- lapply(df$primer_apellido[need_fix], split_full)\n    df$nombres[need_fix]          <- vapply(fixed, `[[`, character(1), \"nombres\")\n    df$primer_apellido[need_fix]  <- vapply(fixed, `[[`, character(1), \"ap1\")\n    df$segundo_apellido[need_fix] <- vapply(fixed, `[[`, character(1), \"ap2\")\n  }\n  df\n}\n\nparse_resultados_individuales_v2 <- function(path, sheet = NULL, compute_total = TRUE){\n  stopifnot(file.exists(path))\n  if (is.null(sheet)){\n    shs <- readxl::excel_sheets(path)\n    s_low <- stringr::str_to_lower(shs)\n    cand <- shs[stringr::str_detect(s_low, \"resultado\") & stringr::str_detect(s_low, \"individual\")]\n    if (!length(cand)) cand <- shs[stringr::str_detect(s_low, \"individ\")]\n    if (!length(cand)) cand <- shs\n    sheet <- cand[1]\n    message(\"Usando hoja: \", sheet)\n  }\n  raw <- readxl::read_excel(path, sheet = sheet, col_names = FALSE, col_types = \"text\")\n  raw <- janitor::remove_empty(raw, which = c(\"rows\",\"cols\"))\n  data_start <- guess_data_start_base(raw)\n  if (is.na(data_start)) stop(\"No pude detectar el inicio de datos (ID numérico) en la 1ª columna.\")\n  hdr_row <- guess_header_row_base(raw, data_start)\n  col_nms <- make_names_from_block_base(raw, hdr_row, data_start)\n  dat <- tibble::as_tibble(raw[seq(from = data_start, to = nrow(raw)), , drop = FALSE])\n  names(dat) <- col_nms\n  dat <- dat %>% mutate(across(everything(), ~ na_if(.x, \"\")))\n  dat <- standardize_core_names(dat) %>% fallback_positionals()\n  id_candidates <- c(\"datos_de_estudiantes_de_la_cohorte\", \"rut\", \"id_estudiante\", \"id\", names(dat)[1])\n  id_col <- first_existing_col_base(dat, id_candidates)\n  dat <- dat %>% mutate(id_estudiante = as.character(.data[[id_col]]))\n  dat <- repair_person_names(dat)\n  has_3 <- all(c(\"nombres\",\"primer_apellido\",\"segundo_apellido\") %in% names(dat))\n  dat <- dat %>% mutate(\n    nombre_completo = if (has_3) stringr::str_squish(paste(nombres, primer_apellido, segundo_apellido))\n    else NA_character_\n  )\n  n <- nrow(dat)\n  rindio_from_fecha <- if (\"fecha_rendicion\" %in% names(dat)) {\n    tmp <- tolower(ifelse(is.na(dat$fecha_rendicion), \"\", dat$fecha_rendicion))\n    ifelse(stringr::str_detect(tmp, stringr::regex(\"no\\\\s*rendida\", ignore_case = TRUE)), 0L,\n           ifelse(stringr::str_detect(tmp, stringr::regex(\"rendida\", ignore_case = TRUE)), 1L, NA_integer_))\n  } else rep(NA_integer_, n)\n  rindio_from_estat <- if (\"estatus_rendicion\" %in% names(dat)) {\n    tmp <- tolower(ifelse(is.na(dat$estatus_rendicion), \"\", dat$estatus_rendicion))\n    ifelse(stringr::str_detect(tmp, stringr::regex(\"no\\\\s*rend\", ignore_case = TRUE)), 0L,\n           ifelse(stringr::str_detect(tmp, stringr::regex(\"rend\", ignore_case = TRUE)), 1L, NA_integer_))\n  } else rep(NA_integer_, n)\n  dat$rindio <- dplyr::coalesce(rindio_from_fecha, rindio_from_estat)\n  dat <- standardize_competencias(dat)\n  comp_guess <- c(\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\")\n  comp_cols <<- intersect(names(dat), comp_guess)\n  if (length(comp_cols)){\n    dat <- dat %>% mutate(across(all_of(comp_cols),\n      ~ suppressWarnings(readr::parse_number(as.character(.x)))))\n  }\n  if (\"puntaje_total\" %in% names(dat)){\n    dat <- dat %>% mutate(puntaje_total = suppressWarnings(readr::parse_number(as.character(puntaje_total))))\n  } else if (compute_total && length(comp_cols)){\n    dat <- dat %>% mutate(puntaje_total = rowSums(across(all_of(comp_cols)), na.rm = TRUE))\n  }\n  if (\"porcentaje_logro\" %in% names(dat)){\n    dat <- dat %>% mutate(porcentaje_logro = readr::parse_number(as.character(porcentaje_logro)))\n  }\n  dat\n}\n\ndat <- parse_resultados_individuales_v2(archivo)\n\n# Normaliza \"NR\" a NA\ndat <- dat %>% mutate(across(everything(), ~ ifelse(.x %in% c(\"NR\",\"N R\",\"nr\",\"n r\"), NA, .x)))\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(dat)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 211\nColumns: 24\n$ rut                        <chr> \"14209461\", \"17346603\", \"18871583\", \"190319…\n$ dv                         <chr> \"4\", \"K\", \"4\", \"4\", \"5\", \"8\", \"1\", \"6\", \"K\"…\n$ primer_apellido            <chr> \"CID\", \"ALTAMIRANO\", \"VERA\", \"ROJAS\", \"CAMP…\n$ segundo_apellido           <chr> \"REYES\", \"CARRASCO\", \"BRAVO\", \"MUÑOZ\", \"GAL…\n$ nombres                    <chr> \"PAULINA MAGDALENA\", \"SOFIA MAGDALENA\", \"DA…\n$ estado_habilitacion        <chr> \"PAULINA MAGDALENA\", \"SOFIA MAGDALENA\", \"DA…\n$ estatus_rendicion          <chr> \"Avance curricular suficiente o adecuado pa…\n$ fecha_rendicion            <chr> \"Rendida\", \"No rendida\", \"Rendida\", \"Rendid…\n$ justificacion_no_rendicion <chr> \"45748\", NA, \"45748\", \"45748\", \"45748\", NA,…\n$ col_10                     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n$ comp_11                    <dbl> 2, NA, 2, 2, 3, NA, 1, 1, 3, NA, 2, 2, 2, 2…\n$ comp_12                    <dbl> 2, NA, NA, 1, 2, NA, NA, NA, 2, NA, 2, 1, 1…\n$ comp_32a                   <dbl> 1, NA, 3, 3, 1, NA, 0, 3, 2, NA, 3, 1, 3, N…\n$ comp_32b                   <dbl> 2, NA, 1, 1, 2, NA, 0, 1, 1, NA, 2, 1, 2, N…\n$ comp_32c                   <dbl> 1, NA, 1, 2, 2, NA, 0, 1, 0, NA, 1, 1, 2, N…\n$ comp_41                    <dbl> 3, NA, 3, 3, 3, NA, 3, 3, 3, NA, 3, 3, 3, N…\n$ comp_42                    <dbl> 3, NA, 2, 2, NA, NA, NA, NA, 0, NA, 0, 2, 2…\n$ puntaje_total              <dbl> 14, 0, 12, 14, 13, 0, 4, 9, 11, 0, 13, 11, …\n$ porcentaje_logro           <dbl> 0.6666667, 0.0000000, 0.5714286, 0.6666667,…\n$ categoria_global           <chr> \"No rendida o no válida\", \"No rendida o no …\n$ incluido_listado           <chr> \"ambos\", \"solo CEFAU-renuncia, abandono o e…\n$ id_estudiante              <chr> \"14209461\", \"17346603\", \"18871583\", \"190319…\n$ nombre_completo            <chr> \"PAULINA MAGDALENA CID REYES\", \"SOFIA MAGDA…\n$ rindio                     <int> 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1…\n```\n\n\n:::\n:::\n\n\n## 2) KPIs, tabla de muestra y reporte automático\n\n\n::: {.cell}\n\n```{.r .cell-code}\nn_est   <- nrow(dat)\np_rinde <- mean(dat$rindio %in% 1L, na.rm = TRUE)\nm_pt    <- mean(dat$puntaje_total, na.rm = TRUE)\np50_pt  <- as.numeric(quantile(dat$puntaje_total, 0.5, na.rm = TRUE))\n\n# Promedios por competencia usando nombres de columna tal cual (sin labels)\nprom_comp <- if (length(comp_cols)) {\n  dat |>\n    summarize(across(all_of(comp_cols), ~mean(.x, na.rm = TRUE))) |>\n    pivot_longer(everything(), names_to = \"competencia\", values_to = \"prom\") |>\n    arrange(match(competencia, comp_cols))\n} else tibble(competencia = character(), prom = numeric())\n\ntop_comp <- if (nrow(prom_comp)) prom_comp %>% arrange(desc(prom)) %>% slice_head(n = 1) else NULL\nbot_comp <- if (nrow(prom_comp)) prom_comp %>% arrange(prom) %>% slice_head(n = 1)        else NULL\n\nhtmltools::HTML(glue::glue(\n  \"<p><b>Resumen ejecutivo</b></p>\n  <ul>\n    <li><b>N estudiantes:</b> {n_est}</li>\n    <li><b>% Rendición:</b> {scales::percent(p_rinde, accuracy = 0.1)}</li>\n    <li><b>Puntaje total</b> — media: {round(m_pt,2)}, mediana: {round(p50_pt,2)}</li>\n    {if (nrow(prom_comp)) glue::glue('<li><b>Mayor promedio:</b> {top_comp$competencia} ({round(top_comp$prom,2)})</li>') else ''}\n    {if (nrow(prom_comp)) glue::glue('<li><b>Menor promedio:</b> {bot_comp$competencia} ({round(bot_comp$prom,2)})</li>') else ''}\n  </ul>\"\n))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<p><b>Resumen ejecutivo</b></p>\n<ul>\n  <li><b>N estudiantes:</b> 211</li>\n  <li><b>% Rendición:</b> 89.1%</li>\n  <li><b>Puntaje total</b> — media: 8.23, mediana: 9</li>\n  <li><b>Mayor promedio:</b> comp_41 (2.54)</li>\n  <li><b>Menor promedio:</b> comp_32c (1.11)</li>\n</ul>\n```\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncols_show <- c(\"rut\",\"dv\",\"nombres\",\"primer_apellido\",\"segundo_apellido\",\n               \"puntaje_total\",\"porcentaje_logro\",\"categoria_global\",\"rindio\")\ncols_show <- intersect(cols_show, names(dat))\ntbl <- dat %>% select(all_of(cols_show)) %>% head(15)\n\nplot_ly(\n  type = \"table\",\n  header = list(values = names(tbl), align = \"center\",\n                fill = list(color = brand_accent), font = list(color = \"white\")),\n  cells  = list(values = lapply(tbl, identity), align = \"left\")\n) |>\n  layout(title = \"Muestra de registros (15)\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-d418839e6a6faed706ac\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-d418839e6a6faed706ac\">{\"x\":{\"visdat\":{\"8c6556839acf\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"8c6556839acf\",\"attrs\":{\"8c6556839acf\":{\"header\":{\"values\":[\"rut\",\"dv\",\"nombres\",\"primer_apellido\",\"segundo_apellido\",\"puntaje_total\",\"porcentaje_logro\",\"categoria_global\",\"rindio\"],\"align\":\"center\",\"fill\":{\"color\":\"#19b5c6\"},\"font\":{\"color\":\"white\"}},\"cells\":{\"values\":{\"rut\":[\"14209461\",\"17346603\",\"18871583\",\"19031978\",\"19174663\",\"19209871\",\"19407332\",\"19427035\",\"19751275\",\"19777121\",\"19953547\",\"19958869\",\"20008404\",\"20022966\",\"20110741\"],\"dv\":[\"4\",\"K\",\"4\",\"4\",\"5\",\"8\",\"1\",\"6\",\"K\",\"6\",\"1\",\"9\",\"7\",\"5\",\"5\"],\"nombres\":[\"PAULINA MAGDALENA\",\"SOFIA MAGDALENA\",\"DANIELA IGNACIA\",\"CATALINA ESPERANZA\",\"EILEEN IVETTE DEL\",\"RICARDO ENRIQUE\",\"BENJAMIN IGNACIO\",\"ARACELI AYMARA\",\"EDGARDO NEFTALI\",\"JOAQUIN ESTEBAN\",\"MARÍA DE LOS ANGELES\",\"TOMAS CRISTOBAL\",\"JAVIERA IGNACIA\",\"JUAN MARTIN\",\"MARÍA JESÚS\"],\"primer_apellido\":[\"CID\",\"ALTAMIRANO\",\"VERA\",\"ROJAS\",\"CAMPO\",\"GARCIA\",\"TAPIA\",\"MUÑOZ\",\"SAEZ\",\"FUENTES\",\"HERNÁNDEZ\",\"ARRIOLA\",\"SANZANA\",\"CHAPARRO\",\"NÚÑEZ\"],\"segundo_apellido\":[\"REYES\",\"CARRASCO\",\"BRAVO\",\"MUÑOZ\",\"GALVEZ\",\"FLANDEZ\",\"OYARZO\",\"LOPEZ\",\"MILLAPAN\",\"MORALES\",\"SOLÍS\",\"PEZOA\",\"AVILA\",\"DIAZ\",\"RIVAS\"],\"puntaje_total\":[14,0,12,14,13,0,4,9,11,0,13,11,15,2,0],\"porcentaje_logro\":[0.66666666666666641,0,0.57142857142857162,0.66666666666666641,0.61904761904761907,0,0.19047619047619052,0.42857142857142855,0.52380952380952384,0,0.61904761904761907,0.52380952380952384,0.7142857142857143,0.095238095238095233,0],\"categoria_global\":[\"No rendida o no válida\",\"No rendida o no válida\",\"No rendida o no válida\",\"No rendida o no válida\",\"No rendida o no válida\",\"No rendida o no válida\",\"No rendida o no válida\",\"No rendida o no válida\",\"No rendida o no válida\",\"No rendida o no válida\",\"No rendida o no válida\",\"No rendida o no válida\",\"No rendida o no válida\",\"No rendida o no válida\",\"No rendida o no válida\"],\"rindio\":[1,0,1,1,1,0,1,1,1,0,1,1,1,1,1]},\"align\":\"left\"},\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"table\"}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"title\":\"Muestra de registros (15)\",\"hovermode\":\"closest\",\"showlegend\":false},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"header\":{\"values\":[\"rut\",\"dv\",\"nombres\",\"primer_apellido\",\"segundo_apellido\",\"puntaje_total\",\"porcentaje_logro\",\"categoria_global\",\"rindio\"],\"align\":\"center\",\"fill\":{\"color\":\"#19b5c6\"},\"font\":{\"color\":\"white\"}},\"cells\":{\"values\":{\"rut\":[\"14209461\",\"17346603\",\"18871583\",\"19031978\",\"19174663\",\"19209871\",\"19407332\",\"19427035\",\"19751275\",\"19777121\",\"19953547\",\"19958869\",\"20008404\",\"20022966\",\"20110741\"],\"dv\":[\"4\",\"K\",\"4\",\"4\",\"5\",\"8\",\"1\",\"6\",\"K\",\"6\",\"1\",\"9\",\"7\",\"5\",\"5\"],\"nombres\":[\"PAULINA MAGDALENA\",\"SOFIA MAGDALENA\",\"DANIELA IGNACIA\",\"CATALINA ESPERANZA\",\"EILEEN IVETTE DEL\",\"RICARDO ENRIQUE\",\"BENJAMIN IGNACIO\",\"ARACELI AYMARA\",\"EDGARDO NEFTALI\",\"JOAQUIN ESTEBAN\",\"MARÍA DE LOS ANGELES\",\"TOMAS CRISTOBAL\",\"JAVIERA IGNACIA\",\"JUAN MARTIN\",\"MARÍA JESÚS\"],\"primer_apellido\":[\"CID\",\"ALTAMIRANO\",\"VERA\",\"ROJAS\",\"CAMPO\",\"GARCIA\",\"TAPIA\",\"MUÑOZ\",\"SAEZ\",\"FUENTES\",\"HERNÁNDEZ\",\"ARRIOLA\",\"SANZANA\",\"CHAPARRO\",\"NÚÑEZ\"],\"segundo_apellido\":[\"REYES\",\"CARRASCO\",\"BRAVO\",\"MUÑOZ\",\"GALVEZ\",\"FLANDEZ\",\"OYARZO\",\"LOPEZ\",\"MILLAPAN\",\"MORALES\",\"SOLÍS\",\"PEZOA\",\"AVILA\",\"DIAZ\",\"RIVAS\"],\"puntaje_total\":[14,0,12,14,13,0,4,9,11,0,13,11,15,2,0],\"porcentaje_logro\":[0.66666666666666641,0,0.57142857142857162,0.66666666666666641,0.61904761904761907,0,0.19047619047619052,0.42857142857142855,0.52380952380952384,0,0.61904761904761907,0.52380952380952384,0.7142857142857143,0.095238095238095233,0],\"categoria_global\":[\"No rendida o no válida\",\"No rendida o no válida\",\"No rendida o no válida\",\"No rendida o no válida\",\"No rendida o no válida\",\"No rendida o no válida\",\"No rendida o no válida\",\"No rendida o no válida\",\"No rendida o no válida\",\"No rendida o no válida\",\"No rendida o no válida\",\"No rendida o no válida\",\"No rendida o no válida\",\"No rendida o no válida\",\"No rendida o no válida\"],\"rindio\":[1,0,1,1,1,0,1,1,1,0,1,1,1,1,1]},\"align\":\"left\"},\"type\":\"table\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n## 3) Visualizaciones (Plotly)\n\n### 3.1 Histograma puntaje total\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat_p <- dat |> filter(!is.na(puntaje_total))\n\nplot_ly(\n  dat_p,\n  x = ~puntaje_total,\n  type = \"histogram\",\n  nbinsx = 25,\n  marker = list(line = list(width = 0))\n) |>\n  layout(\n    title = \"Distribución puntaje_total\",\n    xaxis = list(title = \"puntaje_total\"),\n    yaxis = list(title = \"Frecuencia\")\n  ) |>\n  layout(plotly_brand) |>\n  config(displaylogo = FALSE, modeBarButtonsToRemove = c(\"lasso2d\",\"select2d\"))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-61ac6df13f085f93e0c8\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-61ac6df13f085f93e0c8\">{\"x\":{\"visdat\":{\"8c65168fefa0\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"8c65168fefa0\",\"attrs\":{\"8c65168fefa0\":{\"x\":{},\"nbinsx\":25,\"marker\":{\"line\":{\"width\":0}},\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"histogram\"}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"title\":\"Distribución puntaje_total\",\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"puntaje_total\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"Frecuencia\"},\"hovermode\":\"closest\",\"showlegend\":false},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false,\"displaylogo\":false,\"modeBarButtonsToRemove\":[\"lasso2d\",\"select2d\"]},\"data\":[{\"x\":[14,0,12,14,13,0,4,9,11,0,13,11,15,2,0,0,14,9,8,15,6,0,0,0,17,0,15,0,13,6,0,9,0,8,12,0,15,14,12,0,6,0,7,0,0,0,0,0,12,9,8,0,9,14,12,16,8,10,13,12,6,10,17,9,0,10,9,10,0,0,14,6,0,11,9,0,9,13,11,7,7,12,0,12,13,5,15,13,10,15,12,10,0,3,11,14,0,6,8,2,9,11,6,8,10,9,11,12,8,0,15,7,11,11,13,0,15,9,11,0,9,5,15,10,15,4,10,8,0,8,0,13,7,12,13,0,0,7,14,4,11,7,5,13,11,9,12,5,0,7,7,8,6,12,8,2,15,9,10,10,10,5,14,6,14,13,6,11,12,12,10,5,7,6,12,13,7,9,13,13,9,5,11,13,9,9,11,0,5,5,9,12,6,14,12,7,8,6,7,12,13,12,12,15,9,15,10,10,8,9,12],\"nbinsx\":25,\"marker\":{\"color\":\"rgba(31,119,180,1)\",\"line\":{\"color\":\"rgba(31,119,180,1)\",\"width\":0}},\"type\":\"histogram\",\"error_y\":{\"color\":\"rgba(31,119,180,1)\"},\"error_x\":{\"color\":\"rgba(31,119,180,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n### 3.2 Barras por categoría_global\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncat_df <- dat |>\n  mutate(categoria_global = fct_infreq(categoria_global) |> fct_rev()) |>\n  count(categoria_global, name = \"n\") |>\n  filter(!is.na(categoria_global))\n\nplot_ly(\n  cat_df,\n  y = ~categoria_global,\n  x = ~n,\n  type = \"bar\",\n  orientation = \"h\"\n) |>\n  layout(\n    title = \"Distribución por categoria_global\",\n    xaxis = list(title = \"N\"),\n    yaxis = list(title = \"\")\n  ) |>\n  layout(plotly_brand) |>\n  config(displaylogo = FALSE, modeBarButtonsToRemove = c(\"lasso2d\",\"select2d\"))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-ba5e6864101d79a49bb4\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-ba5e6864101d79a49bb4\">{\"x\":{\"visdat\":{\"8c652bf0150e\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"8c652bf0150e\",\"attrs\":{\"8c652bf0150e\":{\"y\":{},\"x\":{},\"orientation\":\"h\",\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"bar\"}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"title\":\"Distribución por categoria_global\",\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"N\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"\",\"type\":\"category\",\"categoryorder\":\"array\",\"categoryarray\":[\"No rendida o no válida\"]},\"hovermode\":\"closest\",\"showlegend\":false},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false,\"displaylogo\":false,\"modeBarButtonsToRemove\":[\"lasso2d\",\"select2d\"]},\"data\":[{\"y\":[\"No rendida o no válida\"],\"x\":[190],\"orientation\":\"h\",\"type\":\"bar\",\"marker\":{\"color\":\"rgba(31,119,180,1)\",\"line\":{\"color\":\"rgba(31,119,180,1)\"}},\"error_y\":{\"color\":\"rgba(31,119,180,1)\"},\"error_x\":{\"color\":\"rgba(31,119,180,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n### 3.3 Boxplots por competencia (0–3)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nif (length(comp_cols)) {\n  dat_long <- dat |>\n    pivot_longer(all_of(comp_cols), names_to = \"competencia\", values_to = \"nota\") |>\n    filter(!is.na(nota)) |>\n    mutate(competencia = factor(competencia, levels = comp_cols))\n\n  plot_ly() |>\n    add_trace(\n      data = dat_long,\n      x = ~competencia, y = ~nota,\n      type = \"box\",\n      boxpoints = \"outliers\",\n      marker = list(opacity = 0.6),\n      line = list(color = brand_text)\n    ) |>\n    layout(\n      title = \"Distribución por competencia\",\n      xaxis = list(title = \"\"),\n      yaxis = list(title = \"Nota (0–3)\", range = c(0,3), dtick = 1)\n    ) |>\n    layout(plotly_brand) |>\n    config(displaylogo = FALSE, modeBarButtonsToRemove = c(\"lasso2d\",\"select2d\"))\n} else {\n  htmltools::HTML(\"<em>No se detectaron columnas de competencias.</em>\")\n}\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-7eed31e9ede8ca6b2bd4\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-7eed31e9ede8ca6b2bd4\">{\"x\":{\"visdat\":{\"8c6552dcba61\":[\"function () \",\"plotlyVisDat\"],\"8c6551d2134f\":[\"function () \",\"data\"]},\"cur_data\":\"8c6551d2134f\",\"attrs\":{\"8c6551d2134f\":{\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"x\":{},\"y\":{},\"type\":\"box\",\"boxpoints\":\"outliers\",\"marker\":{\"opacity\":0.59999999999999998},\"line\":{\"color\":\"#11222b\"},\"inherit\":true}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"title\":\"Distribución por competencia\",\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"\",\"type\":\"category\",\"categoryorder\":\"array\",\"categoryarray\":[\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\"]},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"Nota (0–3)\",\"range\":[0,3],\"dtick\":1},\"hovermode\":\"closest\",\"showlegend\":false},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false,\"displaylogo\":false,\"modeBarButtonsToRemove\":[\"lasso2d\",\"select2d\"]},\"data\":[{\"fillcolor\":\"rgba(31,119,180,0.5)\",\"x\":[\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_11\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_41\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\"],\"y\":[2,2,1,2,1,3,3,2,3,1,1,3,2,2,1,3,1,2,3,2,3,2,1,2,2,3,1,0,0,0,3,1,3,1,1,3,3,2,2,1,0,3,0,2,2,3,2,1,3,0,2,1,1,1,1,3,2,2,1,3,2,2,3,2,2,3,1,1,2,2,3,2,2,2,2,1,2,1,2,0,1,1,2,1,2,2,1,2,3,3,2,2,1,1,1,1,2,2,3,3,3,3,1,2,2,1,1,3,3,3,2,3,1,1,1,3,2,2,1,0,0,1,2,2,1,2,1,2,1,0,3,1,1,3,0,2,2,2,1,1,2,2,2,2,3,2,2,3,1,2,2,2,1,2,3,2,2,1,1,2,1,3,2,1,0,0,3,2,2,1,1,1,0,2,2,1,1,1,1,3,3,2,1,1,1,0,2,2,2,2,1,1,0,2,2,1,1,1,1,3,3,1,1,1,2,3,3,1,1,3,2,2,2,1,3,2,3,2,2,2,2,1,2,1,1,3,1,0,2,2,0,3,2,2,1,2,2,1,3,2,3,1,2,0,3,3,3,1,1,1,1,2,1,1,1,3,1,2,2,3,3,3,3,1,2,0,0,1,1,3,2,2,1,1,1,0,3,2,1,0,1,1,1,3,2,2,1,1,1,2,1,2,2,2,2,1,1,3,3,3,1,1,1,1,2,0,0,2,3,3,1,1,2,1,1,3,1,1,1,1,2,1,2,2,1,1,1,3,3,2,2,1,1,1,1,3,2,1,1,1,1,0,3,2,2,1,0,2,2,2,1,1,2,2,2,2,2,3,1,1,3,0,3,2,1,2,1,2,2,2,1,1,0,1,3,3,3,2,1,3,0,2,2,2,1,2,3,1,2,0,3,2,1,2,2,2,3,3,3,2,1,2,1,3,2,2,1,2,2,2,1,1,2,1,1,1,2,1,1,1,1,3,2,3,2,2,1,1,3,2,2,1,1,1,1,0,0,2,0,1,1,2,2,1,0,0,0,1,0,3,1,1,1,3,2,2,1,2,1,2,1,2,1,1,0,2,0,1,1,1,1,1,3,1,1,1,2,0,3,2,3,1,2,0,2,1,3,0,1,1,0,3,3,1,2,2,1,1,3,2,1,2,0,1,0,2,2,3,2,2,1,1,3,3,2,1,1,1,0,2,2,0,1,1,1,3,3,1,2,1,1,1,3,2,3,1,2,2,3,2,2,2,1,1,3,3,3,2,1,1,0,3,2,3,2,1,1,1,3,3,2,1,1,0,2,1,0,1,1,0,2,0,2,2,3,1,2,3,2,1,1,2,1,1,3,1,3,3,1,2,3,3,2,0,0,1,1,2,1,1,0,3,3,2,1,1,0,2,2,1,1,2,1,0,3,0,3,1,1,1,1,3,3,2,0,2,1,2,0,2,2,1,1,1,3,2,3,3,1,1,3,2,2,2,3,3,3,2,2,1,3,1,0,1,0,2,2,1,2,1,1,2,2,2,1,1,1,1,1,1,1,1,1,1,2,2,3,2,1,3,0,1,2,2,1,1,3,1,2,1,1,1,1,2,1,2,2,1,1,1,3,2,2,1,1,1,2,3,2,2,0,1,1,3,1,1,2,1,2,1,2,1,3,2,3,1,0,3,3,2,1,1,1,3,2,2,2,1,2,3,3,2,2,1,1,1,0,3,1,1,2,1,3,3,0,3,1,1,1,1,3,3,1,1,1,0,3,1,2,3,2,2,3,1,1,3,2,3,0,1,0,2,3,1,3,1,1,3,2,2,2,0,1,3,3,2,1,1,3,1,0,2,0,3,2,3,1,3,1,0,2,1,3,2,1,1,3,1,3,2,1,2,3,1,1,1,2,3,2,3,1,0,0,3,1,1,1,1,1,1,2,1,3,3,1,2,0,2,2,1,2,3,3,1,2,2,0,2,0,3,1,1,1,0,2,1,2,1,3,2,1,3,1,3,1,1,2,1,3,2,2,1,2,1,0,3,0,1,0,1,1,0,2,3,1,1,1,0,3,2,2,1,2,2,3,3,2,1,1,1,1,3,1,1,1,1,3,2,2,1,0,2,1,3,2,1,1,1,2,2,1,1,1,0,1,1,1,1,0,3,2,3,2,1,1,2,3,3,3,3,2,2,2,2,1,2,2,1,3,2,1,3,2,2,1,1,1,2,1,1,2,1,1,2,1,1,2,1,0,0,2,1,3,2,2,3,1,1,3,2,3,1,3,2,2,2,2,1,2,2,1,2,2,1,2,2,1,3,1,2,2,2,1,3,3,2,2,2,1,1,3,0,3,3,2,2,3,2,3,1,1,0,3,2,2,0,1,1,3,3,2,1,0,0,3,2,2,2,2,1,0,2,3,1,1,1,1,3,2],\"type\":\"box\",\"boxpoints\":\"outliers\",\"marker\":{\"color\":\"rgba(31,119,180,1)\",\"opacity\":0.59999999999999998,\"line\":{\"color\":\"rgba(31,119,180,1)\"}},\"line\":{\"color\":\"#11222b\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n### 3.4 % de niveles (0–3) por competencia\n\n\n::: {.cell}\n\n```{.r .cell-code}\nif (length(comp_cols)) {\n  dist_comp <- dat |>\n    pivot_longer(all_of(comp_cols), names_to = \"competencia\", values_to = \"nota\") |>\n    mutate(competencia = factor(competencia, levels = comp_cols),\n           nota = factor(nota, levels = 0:3)) |>\n    count(competencia, nota, .drop = FALSE) |>\n    group_by(competencia) |>\n    mutate(prop = n/sum(n)) |>\n    ungroup()\n\n  plot_ly(\n    dist_comp,\n    x = ~competencia,\n    y = ~prop,\n    color = ~nota,\n    type = \"bar\"\n  ) |>\n    layout(\n      barmode = \"stack\",\n      title = \"Distribución de niveles por competencia\",\n      xaxis = list(title = \"\"),\n      yaxis = list(title = \"% dentro de competencia\", tickformat = \".0%\")\n    ) |>\n    layout(plotly_brand) |>\n    config(displaylogo = FALSE, modeBarButtonsToRemove = c(\"lasso2d\",\"select2d\"))\n} else {\n  htmltools::HTML(\"\")\n}\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-cfddff4facf5a34d4f2b\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-cfddff4facf5a34d4f2b\">{\"x\":{\"visdat\":{\"8c6524967d47\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"8c6524967d47\",\"attrs\":{\"8c6524967d47\":{\"x\":{},\"y\":{},\"color\":{},\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"bar\"}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"barmode\":\"stack\",\"title\":\"Distribución de niveles por competencia\",\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"\",\"type\":\"category\",\"categoryorder\":\"array\",\"categoryarray\":[\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\"]},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"% dentro de competencia\",\"tickformat\":\".0%\"},\"hovermode\":\"closest\",\"showlegend\":true},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false,\"displaylogo\":false,\"modeBarButtonsToRemove\":[\"lasso2d\",\"select2d\"]},\"data\":[{\"x\":[\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\"],\"y\":[0,0.047393364928909949,0.085308056872037921,0.042654028436018961,0.19431279620853081,0.0094786729857819912,0.080568720379146919],\"type\":\"bar\",\"name\":\"0\",\"marker\":{\"color\":\"rgba(102,194,165,1)\",\"line\":{\"color\":\"rgba(102,194,165,1)\"}},\"textfont\":{\"color\":\"rgba(102,194,165,1)\"},\"error_y\":{\"color\":\"rgba(102,194,165,1)\"},\"error_x\":{\"color\":\"rgba(102,194,165,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\"],\"y\":[0.17535545023696683,0.26540284360189575,0.40758293838862558,0.51658767772511849,0.37440758293838861,0.07582938388625593,0.10426540284360189],\"type\":\"bar\",\"name\":\"1\",\"marker\":{\"color\":\"rgba(252,141,98,1)\",\"line\":{\"color\":\"rgba(252,141,98,1)\"}},\"textfont\":{\"color\":\"rgba(252,141,98,1)\"},\"error_y\":{\"color\":\"rgba(252,141,98,1)\"},\"error_x\":{\"color\":\"rgba(252,141,98,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\"],\"y\":[0.45497630331753552,0.24170616113744076,0.14691943127962084,0.18009478672985782,0.13744075829383887,0.17535545023696683,0.27488151658767773],\"type\":\"bar\",\"name\":\"2\",\"marker\":{\"color\":\"rgba(141,160,203,1)\",\"line\":{\"color\":\"rgba(141,160,203,1)\"}},\"textfont\":{\"color\":\"rgba(141,160,203,1)\"},\"error_y\":{\"color\":\"rgba(141,160,203,1)\"},\"error_x\":{\"color\":\"rgba(141,160,203,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\"],\"y\":[0.17535545023696683,0.023696682464454975,0.13744075829383887,0.037914691943127965,0.071090047393364927,0.51184834123222744,0.071090047393364927],\"type\":\"bar\",\"name\":\"3\",\"marker\":{\"color\":\"rgba(231,138,195,1)\",\"line\":{\"color\":\"rgba(231,138,195,1)\"}},\"textfont\":{\"color\":\"rgba(231,138,195,1)\"},\"error_y\":{\"color\":\"rgba(231,138,195,1)\"},\"error_x\":{\"color\":\"rgba(231,138,195,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n### 3.5 Dispersión: comp_11 vs comp_12\n\n\n::: {.cell}\n\n```{.r .cell-code}\nif (all(c(\"comp_11\",\"comp_12\") %in% names(dat))) {\n  scat_df <- dat |>\n    filter(!is.na(comp_11), !is.na(comp_12)) |>\n    mutate(\n      j11 = comp_11 + rnorm(n(), 0, 0.05),\n      j12 = comp_12 + rnorm(n(), 0, 0.05),\n      hover = paste0(\n        \"<b>\", ifelse(is.na(nombre_completo), \"(sin nombre)\", nombre_completo), \"</b>\",\n        \"<br>comp_11: \", comp_11,\n        \"<br>comp_12: \", comp_12,\n        \"<br>categoria_global: \", categoria_global\n      )\n    )\n\n  plot_ly(\n    scat_df,\n    x = ~j11, y = ~j12,\n    type = \"scatter\", mode = \"markers\",\n    color = ~categoria_global,\n    text = ~hover, hoverinfo = \"text\",\n    marker = list(size = 7, opacity = 0.85, line = list(width = 0))\n  ) |>\n    layout(\n      title = \"comp_11 vs comp_12\",\n      xaxis = list(title = \"comp_11\", range = c(-0.1, 3.1), dtick = 1),\n      yaxis = list(title = \"comp_12\", range = c(-0.1, 3.1), dtick = 1),\n      legend = list(orientation = \"h\", y = -0.2)\n    ) |>\n    layout(plotly_brand) |>\n    config(displaylogo = FALSE, modeBarButtonsToRemove = c(\"lasso2d\",\"select2d\"))\n} else {\n  htmltools::HTML(\"<em>No están presentes simultáneamente comp_11 y comp_12.</em>\")\n}\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-1e622310a725c1599b6c\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-1e622310a725c1599b6c\">{\"x\":{\"visdat\":{\"8c6577783b04\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"8c6577783b04\",\"attrs\":{\"8c6577783b04\":{\"x\":{},\"y\":{},\"mode\":\"markers\",\"text\":{},\"hoverinfo\":\"text\",\"marker\":{\"size\":7,\"opacity\":0.84999999999999998,\"line\":{\"width\":0}},\"color\":{},\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatter\"}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"title\":\"comp_11 vs comp_12\",\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"comp_11\",\"range\":[-0.10000000000000001,3.1000000000000001],\"dtick\":1},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"comp_12\",\"range\":[-0.10000000000000001,3.1000000000000001],\"dtick\":1},\"legend\":{\"orientation\":\"h\",\"y\":-0.20000000000000001},\"hovermode\":\"closest\",\"showlegend\":true},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false,\"displaylogo\":false,\"modeBarButtonsToRemove\":[\"lasso2d\",\"select2d\"]},\"data\":[{\"x\":[2.0141705132172465,1.9613844176842055,3.0088050775173856,2.982030437424279,1.9933688541946981,1.9423892452593434,1.9632269087568421,3.0753321381363206,2.0533900415419053,0.97295898345437581,1.9771102980567203,1.9636760331775167,2.0226266550693226,1.9681687618754693,2.0008226391061426,2.0123438335080537,2.0235421767961448,2.0276061962018734,1.916968316497732,1.9639793228276592,2.0544637604419917,1.989612537947226,2.0344550874529364,2.0389287521020552,1.9996741978037358,2.9278279205749729,1.0071137428626489,3.0492589069063087,1.1052575609993087,1.9587766396028772,0.9667066625484374,1.9801221554126094,2.0756228913166672,2.026546950152698,0.9605848227296041,1.9484881003423884,2.0448733104348049,0.98616898457899482,1.0562673193537424,1.0451860726959099,1.9710545684009302,2.004434984775576,1.0296457642863914,2.042568805591487,1.9561445791390155,3.0137781803454713,3.0202736652192801,1.9571851593461493,1.9718222797303149,2.0428025586011738,1.026802014100668,2.0648155530777226,1.9830130532670298,3.0012892290168836,1.9824895126493332,1.9558023593244245,1.0783052255293408,0.87054615927164769,2.9713742962785736,3.0308599560851532,1.1075419372088917,0.96178773518728267,2.9474360513860129,1.9816264246050317,1.9150842264704027,0.98828963294072025,2.0676329981769253,2.9996429995894651,3.0360498419351072,1.0419114950670909,1.9848557857300528,0.8589953728087234,0.99360786175479943,3.0064717745975305,2.030304632755473,1.9715039837609842,2.942736926377143,1.9933157992610036,1.9848383613638185,1.0177020179379983,2.0156719991285965,2.0321527291461292,2.0286263670283184,1.9312667720185335,2.0256222899728114,0.98976128220421156,3.0077029048321018,2.9822808329162354,1.9439291171647493,2.8982574244280608,1.9240043544535934,1.0206317931344662,2.9823419499446411,1.040580596337503,1.9338122408439351,1.04429129876327,2.0067882270739754,1.9726603436646792,3.0496610197552476,1.9688879546899252,2.9655769401002603,2.0008570234781224,0.93859207279436718,2.9318518942775964,2.0006338411616191,2.0331934916525225,2.0797805064642549,2.0129557576644395],\"y\":[1.9787369208425503,1.0482701216476735,1.8994481064925595,1.9727791677711144,2.0317472482623522,1.0103372873318532,1.010740346003959,0.88090570867435358,2.0022279640939402,2.0192681740009921,1.9441634967100525,2.0376733737348696,2.1242586827227141,3.0398301344807597,0.91237604896943192,1.0079960912099843,2.096720330177178,2.0118577390174193,1.9967654231712035,1.0457465498701297,0.94372981858281657,1.031986184477947,1.041616912926447,2.0184230549430491,1.0309671169421128,1.0824359191645285,0.97422068972107645,1.9889533599597535,0.0010901092435764317,1.0176726406598835,2.0363247844909043,2.037038460095741,0.040432040838564581,1.0502124575414988,0.051058139964604433,0.96089998509735186,1.940161187989867,2.0133984311439042,0.95698218217808728,1.0294710914990941,0.95381398007092033,1.0913085307549182,1.0610453130884727,1.9853504086343619,1.9787824242986938,1.9697696383849734,2.9803136228310545,1.9717271196545494,-0.079970830231890597,2.0226669853541361,2.0205818195470644,1.9793311576119905,1.0234387963588401,2.013978530945653,1.009422743900847,1.8841716648214566,0.98340415476464327,1.0457900154675781,0.88398855853279779,0.01649954117196448,2.0422908372334394,1.9238841164951406,1.9419943931674903,1.0095306561063893,-0.037964273312286384,1.9610841694792391,2.0296345437032364,1.9603085391435917,1.9814445249224542,-0.04169230393703547,2.0121060798248958,1.017999877976357,0.95043242977611564,0.9668665113766528,1.9698306324633064,1.9032220769726158,2.926956599549241,0.92834116994720373,2.0704780328030297,2.001567870242579,0.98167593838817524,2.0208005287663378,1.0376281248855486,1.9779617696439327,1.025539125403842,2.0498403509309746,0.9890290256602563,1.0009404612634036,2.0028043146296164,1.012040697617888,1.972350474022422,0.9875402568378554,1.0188943790573752,0.94991143744884576,3.0127759788954691,1.0321555811803711,0.97077273498706973,1.9674359301458526,0.9479766655315105,1.0706127250271196,1.0299001347678858,1.02922242127345,0.058491311238510729,0.98744560788515834,0.93665607254423899,0.96090024211980618,0.97095234733590619,1.0738544261680865],\"mode\":\"markers\",\"text\":[\"<b>PAULINA MAGDALENA CID REYES<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>CATALINA ESPERANZA ROJAS MUÑOZ<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>EILEEN IVETTE DEL CAMPO GALVEZ<\\/b><br>comp_11: 3<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>EDGARDO NEFTALI SAEZ MILLAPAN<\\/b><br>comp_11: 3<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>MARÍA DE LOS ANGELES HERNÁNDEZ SOLÍS<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>TOMAS CRISTOBAL ARRIOLA PEZOA<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>JAVIERA IGNACIA SANZANA AVILA<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>TANYA JAVIERA CÁRCAMO OPITZ<\\/b><br>comp_11: 3<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>MARTIN GUILLERMO MORENO CURIHUENTRO<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>ANDRÉS NICOLÁS GÓMEZ GÓMEZ<\\/b><br>comp_11: 1<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>SOFÍA ALMENDRA PARRAGUEZ LEÓN<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>JAVIERA CONSTANZA VERA CORRALES<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>CAMILO MATEO MONJE MALDONADO<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>RODRIGO ANDRÉS MARTÍNEZ MUÑOZ<\\/b><br>comp_11: 2<br>comp_12: 3<br>categoria_global: No rendida o no válida\",\"<b>FRANCISCA IGNACIA OSSES GUAJARDO<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>ALONSO RUBÉN OLIVARES LANDERO<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>GABRIEL IGNACIO SAAVEDRA VILLALOBOS<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>RICARDO ANDRÉS CÁCERES SALAZAR<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>VICENTE IGNACIO OLGUÍN SEPÚLVEDA<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>NALLELY KRISNA ARANDA ALVARADO<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>CRISTIAN ELISEO CORREA RAMÍREZ<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>NICOLÁS AZAEL JARY POBLETE FLORES<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>JOAQUÍN ALEJANDRO INOSTROZA RECABAL<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>BENJAMÍN IGNACIO GÁLVEZ ESPINOZA<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>ANTONIA SOFÍA TOLEDO RODRÍGUEZ<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>CATALINA ISIDORA MIRANDA SERRANO<\\/b><br>comp_11: 3<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>ENIO FABIÁN GONZÁLEZ GONZÁLEZ<\\/b><br>comp_11: 1<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>ERIC ALEJANDRO SEPÚLVEDA ROA<\\/b><br>comp_11: 3<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>FRANCISCA IGNACIA AZÓCAR GONZÁLEZ<\\/b><br>comp_11: 1<br>comp_12: 0<br>categoria_global: No rendida o no válida\",\"<b>FERNANDA ANTONIA HENRÍQUEZ MORENO<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>CATALINA TAIS MUÑOZ PARRA<\\/b><br>comp_11: 1<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>CONAN GARAY MARAMBIO<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>AMY LILIBEL FUENTES MARTINEZ<\\/b><br>comp_11: 2<br>comp_12: 0<br>categoria_global: No rendida o no válida\",\"<b>CATALINA LUISA MARCHANT SANTIS<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>ALFONSO VICENTE ESPINOZA MONTALVA<\\/b><br>comp_11: 1<br>comp_12: 0<br>categoria_global: No rendida o no válida\",\"<b>VICENTE ANDRÉS ALARCÓN ROSENBLATT<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>TRINIDAD BRAVO AGUIAR<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>SOFÍA ISIDORA DURAND CABELLO<\\/b><br>comp_11: 1<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>EDUARDO ANDRÉS REYES VARGAS<\\/b><br>comp_11: 1<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>CATALINA FERNANDA CARRERA LAGOS<\\/b><br>comp_11: 1<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>MARTÍN OMAR PÉREZ GONZÁLEZ<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>NICOLE ANAÍS URRUTIA MELIQUEO<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>EMILIA CONSTANZA MORA PAVEZ<\\/b><br>comp_11: 1<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>BENJAMIN ANDRES ARAVENA VEGA<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>MARTÍN ANDREI ÁLVAREZ ORTEGA<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>BRUNO ENRIQUE CANESSA SEPÚLVEDA<\\/b><br>comp_11: 3<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>JOAQUÍN ALONSO YÁÑEZ VÁSQUEZ<\\/b><br>comp_11: 3<br>comp_12: 3<br>categoria_global: No rendida o no válida\",\"<b>CAMILO ALEJANDRO RAMÍREZ RUBILAR<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>XIMENA AMADA VALDIVIA VEGA<\\/b><br>comp_11: 2<br>comp_12: 0<br>categoria_global: No rendida o no válida\",\"<b>JESÚS AMARO TORO DURÁN<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>OMAR BENJAMÍN CASTILLO MONTERO<\\/b><br>comp_11: 1<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>FRANCISCO JAVIER CÁRDENAS URETA<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>LILIAN JUDITH VILCHES SALAZAR<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>FRANCISCO JAVIER CONRADO CARRIZO AGUIRRE<\\/b><br>comp_11: 3<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>DANIEL ALBERTO MARTÍNEZ MORGADO<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>TOMÁS MANASÉS ELIEZER ÁLVAREZ LUNA<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>FERNANDA JOSEFA MARÍN ALISTE<\\/b><br>comp_11: 1<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>CAMILA ANTONIA ROMERO ESQUIVEL<\\/b><br>comp_11: 1<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>SERGIO YURI ESCUDERO REYES<\\/b><br>comp_11: 3<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>CONSTANZA POLETT SEPÚLVEDA VERA<\\/b><br>comp_11: 3<br>comp_12: 0<br>categoria_global: No rendida o no válida\",\"<b>NICOLÁS ANDRÉS DÍAZ TORO<\\/b><br>comp_11: 1<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>FREDDERICK UNDOMIEL VÁSQUEZ PETRONE<\\/b><br>comp_11: 1<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>FERNANDA ANDREA SALAZAR GUZMÁN<\\/b><br>comp_11: 3<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>CATALINA PAZ MANCILLA PÉREZ<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>AGUSTINA REBECA GARCÍA ABARCA<\\/b><br>comp_11: 2<br>comp_12: 0<br>categoria_global: No rendida o no válida\",\"<b>MATÍAS FRANCISCO PÉREZ BALBOA<\\/b><br>comp_11: 1<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>BENJAMÍN RODRIGO BECERRA ORELLANA<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>HEATHER ALEXIA SURANYI PROSCHLE<\\/b><br>comp_11: 3<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>PATRICIA ANTONIA CARRASCO TORO<\\/b><br>comp_11: 3<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>NICOLAS AGUSTIN MARTINEZ VALLADARES<\\/b><br>comp_11: 1<br>comp_12: 0<br>categoria_global: No rendida o no válida\",\"<b>MANUEL ESTEBAN GUTIÉRREZ PINTO<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>MATILDA LUZ ESCANILLA CONCHA<\\/b><br>comp_11: 1<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>PÍA IGNACIA RAQUEL COFRÉ RAMÍREZ<\\/b><br>comp_11: 1<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>FLORENCIA ISABEL HERNÁNDEZ MORA<\\/b><br>comp_11: 3<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>PAULETTE DEL PILAR MONSALVE JOFRÉ<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>MÍLEN MONTALVÁN PÉREZ<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>JAVIERA ANTONIA VÉLIZ MÉNDEZ<\\/b><br>comp_11: 3<br>comp_12: 3<br>categoria_global: No rendida o no válida\",\"<b>RENATO JAVIER ANABALÓN ALBORNOZ<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>VALENTINA PAZ GONZÁLEZ CAÑAS<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>VALENTINA ANTONIA SAAVEDRA CORTÉS<\\/b><br>comp_11: 1<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>DANIELA IVETTE ALIAGA FERRADA<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>GRACE CATALINA ORELLANA CASTRO<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>TRINIDAD FERNANDA ORTIZ MORENO<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>CATALINA TRINIDAD POLANCO ÁLVAREZ<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>GUILLERMO BENJAMÍN DONOSO QUIROGA<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>FERNANDA URRUTIA URRUTIA BAHAMONDES<\\/b><br>comp_11: 1<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>JAVIERA VALENTINA CONSTANZA CASTRO CARVAJAL<\\/b><br>comp_11: 3<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>CONSTANZA TRINIDAD CEA FARIAS<\\/b><br>comp_11: 3<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>MATÍAS RODRIGO JORQUERA VILLAGRA<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>JAVIERA OLIVIA DURÁN MOLINA<\\/b><br>comp_11: 3<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>JAVIER IGNACIO MENDIETA GUTIÉRREZ<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>JORGE ALBERTO PEZOA RIVEROS<\\/b><br>comp_11: 1<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>DANAE ANAÍS NAVARRETE ESPINOZA<\\/b><br>comp_11: 3<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>LUCAS VALENTÍN ESCOBAR MEÑIQUE<\\/b><br>comp_11: 1<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>CONSTANZA ESTER ÁVILA DÍAZ<\\/b><br>comp_11: 2<br>comp_12: 3<br>categoria_global: No rendida o no válida\",\"<b>IVAN MAXIMILIANO MALDONADO PAVEZ<\\/b><br>comp_11: 1<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>VICENTE ESTEBAN GÁLVEZ CÓRDOVA<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>VALENTINA SOFÍA CASTRO ÁLVAREZ<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: No rendida o no válida\",\"<b>NICOLÁS ALEXANDER VILLALOBOS ANCAMÁN<\\/b><br>comp_11: 3<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>CONSTANZA DENNISE SILVA MAUNA<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>CATALINA ANTONIA CARREÑO TAPIA<\\/b><br>comp_11: 3<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>VICENTE IGNACIO CANALES GAMBOA<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>EDUARDO JACINTO MATAMOROS ROJAS<\\/b><br>comp_11: 1<br>comp_12: 0<br>categoria_global: No rendida o no válida\",\"<b>PABLO ARTURO MARCO CARIAGA ROMERO<\\/b><br>comp_11: 3<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>BENJAMÍN LUCAS TOLEDO PIZARRO<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>ESTEPHANIE ALEXANDRA IBAÑEZ AMACIFUEN<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>PAOLA ELIZABETH CANELON PAREDES<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\",\"<b>DAPHNE ACQUARELLA MONTILLA ALVARADO<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: No rendida o no válida\"],\"hoverinfo\":[\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\"],\"marker\":{\"color\":\"rgba(252,141,98,1)\",\"size\":7,\"opacity\":0.84999999999999998,\"line\":{\"color\":\"rgba(252,141,98,1)\",\"width\":0}},\"type\":\"scatter\",\"name\":\"No rendida o no válida\",\"textfont\":{\"color\":\"rgba(252,141,98,1)\"},\"error_y\":{\"color\":\"rgba(252,141,98,1)\"},\"error_x\":{\"color\":\"rgba(252,141,98,1)\"},\"line\":{\"color\":\"rgba(252,141,98,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[0.99303481370299695,2.9800293669145055,2.8627133462713128,2.0282577061792701,1.9201759094544992,0.9542964266200552,2.0159387852784265,1.9889929874159042,1.9963594834987437,1.9181453151555412,1.8681913740519567,2.0519807679639186,2.0290434751965014,3.0273230835241249],\"y\":[0.96409157381589738,2.0729740638605612,2.0333918283928023,1.0192687562908243,1.0308651499467172,-0.071345178819278626,1.9300082127942118,2.9591407203072491,1.9798633143262252,1.026428301813066,2.0454237360725251,-0.037823176500391742,2.0536457423282597,1.0122285159788555],\"mode\":\"markers\",\"text\":[\"<b>Pascale Aqueveque Labra<\\/b><br>comp_11: 1<br>comp_12: 1<br>categoria_global: NA\",\"<b>Maximiliano Arenas Donoso<\\/b><br>comp_11: 3<br>comp_12: 2<br>categoria_global: NA\",\"<b>Anahí Berríos Infantas<\\/b><br>comp_11: 3<br>comp_12: 2<br>categoria_global: NA\",\"<b>Estefanía Burgos Rojas<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: NA\",\"<b>Florencia Cifuentes Ahumada<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: NA\",\"<b>Thannya Espinosa Soto<\\/b><br>comp_11: 1<br>comp_12: 0<br>categoria_global: NA\",\"<b>Débora Ester González Silva<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: NA\",\"<b>Nicolás González Vidal<\\/b><br>comp_11: 2<br>comp_12: 3<br>categoria_global: NA\",\"<b>Rocío Guzmán Candia<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: NA\",\"<b>Pilar Ignacia Matamoros Sandoval<\\/b><br>comp_11: 2<br>comp_12: 1<br>categoria_global: NA\",\"<b>JAVIERA STEFANY NÚÑEZ RIVERA<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: NA\",\"<b>Isidora Rojas Neyez<\\/b><br>comp_11: 2<br>comp_12: 0<br>categoria_global: NA\",\"<b>Benjamín Schnohr Carmona<\\/b><br>comp_11: 2<br>comp_12: 2<br>categoria_global: NA\",\"<b>Yavanna Vásquez Samburgo<\\/b><br>comp_11: 3<br>comp_12: 1<br>categoria_global: NA\"],\"hoverinfo\":[\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\"],\"marker\":{\"color\":\"transparent\",\"size\":7,\"opacity\":0.84999999999999998,\"line\":{\"color\":\"transparent\",\"width\":0}},\"type\":\"scatter\",\"name\":\"NA\",\"textfont\":{\"color\":\"transparent\"},\"error_y\":{\"color\":\"transparent\"},\"error_x\":{\"color\":\"transparent\"},\"line\":{\"color\":\"transparent\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n### 3.6 Radar: promedio por competencia (0–3)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nif (length(comp_cols)) {\n  avg_comp <- dat |>\n    summarize(across(all_of(comp_cols), ~mean(.x, na.rm = TRUE))) |>\n    pivot_longer(everything(), names_to = \"competencia\", values_to = \"prom\") |>\n    mutate(competencia = factor(competencia, levels = comp_cols)) |>\n    arrange(competencia)\n\n  plot_ly(\n    type = \"scatterpolar\",\n    r = avg_comp$prom,\n    theta = avg_comp$competencia,\n    fill = \"toself\",\n    mode = \"lines+markers\",\n    hoverinfo = \"text\",\n    text = paste0(avg_comp$competencia, \": \", round(avg_comp$prom, 2))\n  ) |>\n    layout(\n      title = \"Promedio por competencia\",\n      polar = list(radialaxis = list(visible = TRUE, range = c(0,3), tick0 = 0, dtick = 1))\n    ) |>\n    layout(plotly_brand) |>\n    config(displaylogo = FALSE, modeBarButtonsToRemove = c(\"lasso2d\",\"select2d\"))\n} else {\n  htmltools::HTML(\"\")\n}\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-144038467394ffc27d3c\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-144038467394ffc27d3c\">{\"x\":{\"visdat\":{\"8c6514f1b96a\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"8c6514f1b96a\",\"attrs\":{\"8c6514f1b96a\":{\"r\":[2,1.4180327868852458,1.4329268292682926,1.274390243902439,1.1097560975609757,2.5398773006134969,1.6339285714285714],\"theta\":[\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\"],\"fill\":\"toself\",\"mode\":\"lines+markers\",\"hoverinfo\":\"text\",\"text\":[\"comp_11: 2\",\"comp_12: 1.42\",\"comp_32a: 1.43\",\"comp_32b: 1.27\",\"comp_32c: 1.11\",\"comp_41: 2.54\",\"comp_42: 1.63\"],\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatterpolar\"}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"title\":\"Promedio por competencia\",\"polar\":{\"radialaxis\":{\"visible\":true,\"range\":[0,3],\"tick0\":0,\"dtick\":1}},\"hovermode\":\"closest\",\"showlegend\":false},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false,\"displaylogo\":false,\"modeBarButtonsToRemove\":[\"lasso2d\",\"select2d\"]},\"data\":[{\"fillcolor\":\"rgba(31,119,180,0.5)\",\"r\":[2,1.4180327868852458,1.4329268292682926,1.274390243902439,1.1097560975609757,2.5398773006134969,1.6339285714285714],\"theta\":[\"comp_11\",\"comp_12\",\"comp_32a\",\"comp_32b\",\"comp_32c\",\"comp_41\",\"comp_42\"],\"fill\":\"toself\",\"mode\":\"lines+markers\",\"hoverinfo\":[\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\"],\"text\":[\"comp_11: 2\",\"comp_12: 1.42\",\"comp_32a: 1.43\",\"comp_32b: 1.27\",\"comp_32c: 1.11\",\"comp_41: 2.54\",\"comp_42: 1.63\"],\"type\":\"scatterpolar\",\"marker\":{\"color\":\"rgba(31,119,180,1)\",\"line\":{\"color\":\"rgba(31,119,180,1)\"}},\"line\":{\"color\":\"rgba(31,119,180,1)\"},\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n### 3.7 % de rendición\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrin_df <- dat |>\n  mutate(rindio = factor(ifelse(rindio %in% 1L, \"Rindió\", \"No rindió\"))) |>\n  count(rindio) |>\n  mutate(prop = n/sum(n))\n\nplot_ly(rin_df, x = ~rindio, y = ~prop, type = \"bar\") |>\n  layout(\n    title = \"% de rendición\",\n    xaxis = list(title = \"\"),\n    yaxis = list(title = \"Porcentaje\", tickformat = \".0%\")\n  ) |>\n  layout(plotly_brand) |>\n  config(displaylogo = FALSE, modeBarButtonsToRemove = c(\"lasso2d\",\"select2d\"))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-4cad50cd6b3f0e0ec06d\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-4cad50cd6b3f0e0ec06d\">{\"x\":{\"visdat\":{\"8c654054c64\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"8c654054c64\",\"attrs\":{\"8c654054c64\":{\"x\":{},\"y\":{},\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"bar\"}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"title\":\"% de rendición\",\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"\",\"type\":\"category\",\"categoryorder\":\"array\",\"categoryarray\":[\"No rindió\",\"Rindió\"]},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"Porcentaje\",\"tickformat\":\".0%\"},\"hovermode\":\"closest\",\"showlegend\":false},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false,\"displaylogo\":false,\"modeBarButtonsToRemove\":[\"lasso2d\",\"select2d\"]},\"data\":[{\"x\":[\"No rindió\",\"Rindió\"],\"y\":[0.10900473933649289,0.89099526066350709],\"type\":\"bar\",\"marker\":{\"color\":\"rgba(31,119,180,1)\",\"line\":{\"color\":\"rgba(31,119,180,1)\"}},\"error_y\":{\"color\":\"rgba(31,119,180,1)\"},\"error_x\":{\"color\":\"rgba(31,119,180,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n## 4) Notas\n\n* Los nombres de ejes/leyendas usan **directamente los nombres de columnas** (`comp_11`, `comp_12`, etc.).\n* Si cambian nombres de columnas en otro Excel, el parser intenta normalizar; si no existen, esas gráficas se omiten con un aviso breve.\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"reporte_prueba_files/libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"reporte_prueba_files/libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<script src=\"reporte_prueba_files/libs/plotly-binding-4.10.4/plotly.js\"></script>\n<script src=\"reporte_prueba_files/libs/typedarray-0.1/typedarray.min.js\"></script>\n<script src=\"reporte_prueba_files/libs/jquery-3.5.1/jquery.min.js\"></script>\n<link href=\"reporte_prueba_files/libs/crosstalk-1.2.1/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"reporte_prueba_files/libs/crosstalk-1.2.1/js/crosstalk.min.js\"></script>\n<link href=\"reporte_prueba_files/libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\n<script src=\"reporte_prueba_files/libs/plotly-main-2.11.1/plotly-latest.min.js\"></script>\n<link href=\"reporte_prueba_files/libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"reporte_prueba_files/libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}